<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>CARE.IO | Health</title>

  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      transition: background-color 0.3s ease, color 0.3s ease;
    }

    body {
      font-family: 'Plus Jakarta Sans', sans-serif;
      background-color: #ffffff;
      color: #0f172a;
      line-height: 1.6;
      overflow-x: hidden;
    }

    /* ---------------- DARK THEME ---------------- */
    body.dark-theme {
      background: #0b0f1a;
      color: #f1f5f9;
    }

    /* ---------------- LAYOUT ---------------- */
    .layout {
      display: flex;
      min-height: 100vh;
      width: 100%;
    }

    /* ---------------- SIDEBAR ---------------- */
    .menu-panel {
      width: 300px;
      min-width: 300px;
      height: 100vh;
      position: sticky;
      top: 0;

      background: rgba(255,255,255,0.78);
      backdrop-filter: blur(18px);
      border-right: 1px solid rgba(79, 172, 254, 0.16);
      box-shadow: 18px 0 50px rgba(0,0,0,0.06);

      padding: 16px 14px;
      z-index: 10;
      overflow: hidden;

      transition: width 0.35s ease, min-width 0.35s ease, padding 0.35s ease;
    }

    body.dark-theme .menu-panel {
      background: rgba(18, 26, 40, 0.86);
      border-right: 1px solid rgba(255,255,255,0.08);
      box-shadow: 18px 0 55px rgba(0,0,0,0.55);
    }

    /* COLLAPSED = ONLY SMALL STRIP */
    .menu-panel.collapsed {
      width: 68px;
      min-width: 68px;
      padding: 14px 10px;
    }

    /* TOP */
    .menu-top {
      display: flex;
      justify-content: flex-end; /* ‚úÖ right aligned */
      align-items: center;
      margin-bottom: 18px;
      padding: 0 4px;
    }

    /* When collapsed, toggle should be centered */
    .menu-panel.collapsed .menu-top {
      justify-content: center;
      margin-bottom: 0;
      padding: 0;
    }

    /* Toggle button */
    .sidebar-toggle {
      cursor: pointer;
      width: 46px;
      height: 46px;
      border-radius: 16px;

      border: 1px solid rgba(79, 172, 254, 0.22);
      background: rgba(79, 172, 254, 0.08);

      font-weight: 1000;
      font-size: 1.25rem;
      color: inherit;

      display: flex;
      align-items: center;
      justify-content: center;

      transition: 0.2s ease;
    }

    .sidebar-toggle:hover {
      border-color: rgba(79, 172, 254, 0.75);
      box-shadow: 0 0 18px rgba(79, 172, 254, 0.16);
      transform: translateY(-1px);
    }

    body.dark-theme .sidebar-toggle {
      border: 1px solid rgba(255,255,255,0.08);
      background: rgba(255,255,255,0.04);
      box-shadow: none;
    }

    /* Links */
    .menu-links {
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    .menu-link {
      text-decoration: none;
      color: inherit;

      padding: 14px 14px;
      border-radius: 18px;

      border: 1px solid rgba(255,255,255,0.06);
      background: rgba(255,255,255,0.04);

      font-weight: 800;
      font-size: 1rem;
      letter-spacing: -0.2px;

      display: flex;
      align-items: center;
      gap: 12px;

      transition: 0.2s ease;
    }

    body.dark-theme .menu-link {
      border: 1px solid rgba(255,255,255,0.08);
      background: rgba(255,255,255,0.03);
    }

    .menu-link:hover {
      border-color: rgba(79, 172, 254, 0.55);
      background: rgba(79, 172, 254, 0.08);
      transform: translateY(-2px);
      box-shadow: 0 0 16px rgba(79, 172, 254, 0.12);
    }

    .menu-link.active {
      border-color: rgba(79, 172, 254, 0.75);
      background: rgba(79, 172, 254, 0.12);
      box-shadow: 0 0 22px rgba(79, 172, 254, 0.18);
    }

    /* SVG icon style */
    .menu-ic {
      width: 42px;
      height: 42px;
      border-radius: 16px;

      display: flex;
      align-items: center;
      justify-content: center;

      background: rgba(255,255,255,0.65);
      border: 1px solid rgba(79, 172, 254, 0.12);
      box-shadow: 0 0 14px rgba(79, 172, 254, 0.08);
      flex-shrink: 0;
    }

    body.dark-theme .menu-ic {
      background: rgba(255,255,255,0.04);
      border: 1px solid rgba(255,255,255,0.08);
      box-shadow: none;
    }

    .menu-ic svg {
      width: 20px;
      height: 20px;
      stroke-width: 1.8;
      opacity: 0.9;
    }

    .menu-text {
      font-weight: 900;
      opacity: 0.92;
    }

    /* COLLAPSED = only toggle button */
    .menu-panel.collapsed .menu-links {
      display: none;
    }

    /* ---------------- MAIN AREA ---------------- */
    .main-area {
      flex: 1;
      width: 100%;
      min-width: 0;
    }

    /* ---------------- NAV ---------------- */
    nav {
      position: sticky;
      top: 0;
      width: 100%;
      padding: 18px 22px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      z-index: 1000;
      backdrop-filter: blur(12px);

      background: rgba(255, 255, 255, 0.7);
      border-bottom: 1px solid rgba(79, 172, 254, 0.15);
    }

    body.dark-theme nav {
      background: rgba(11, 15, 26, 0.85);
      border-bottom: 1px solid rgba(255,255,255,0.08);
    }

    .logo {
      font-weight: 800;
      font-size: 1.5rem;
      background: linear-gradient(to right, #4facfe, #00f2fe);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      cursor: pointer;
    }

    .theme-toggle {
      cursor: pointer;
      padding: 8px 15px;
      border-radius: 20px;
      border: 1px solid #4facfe;
      background: transparent;
      color: inherit;
      font-weight: 700;
    }

    /* ---------------- HERO ---------------- */
    .page-hero {
      max-width: 1200px;
      margin: 18px auto 0;
      padding: 30px 20px 18px;
      text-align: center;
      background: radial-gradient(circle at 50% 50%, rgba(79, 172, 254, 0.12), transparent);
      border-radius: 30px;
    }

    .page-hero h1 {
      font-size: clamp(2.2rem, 6vw, 3.5rem);
      font-weight: 800;
      letter-spacing: -2px;
      margin-bottom: 10px;
      opacity: 0;
      transform: translateY(20px);
      animation: revealUp 0.8s forwards;
    }

    .page-hero p {
      opacity: 0.8;
      font-weight: 600;
      max-width: 750px;
      margin: 0 auto;
    }

    /* ---------------- SUB NAV ---------------- */
    .subnav-wrap {
      max-width: 1200px;
      margin: 18px auto 0;
      padding: 0 20px;
    }

    .subnav {
      display: flex;
      gap: 10px;
      justify-content: center;
      flex-wrap: wrap;
      padding: 14px;
      border-radius: 22px;
      background: rgba(255,255,255,0.7);
      border: 1px solid rgba(79, 172, 254, 0.25);
      backdrop-filter: blur(14px);
      box-shadow: 0 0 14px rgba(79, 172, 254, 0.10);
    }

    body.dark-theme .subnav {
      background: rgba(30, 41, 59, 0.6);
      border: 1px solid rgba(255,255,255,0.10);
      box-shadow: none;
    }

    .tab-btn {
      cursor: pointer;
      padding: 12px 16px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,0.12);
      background: rgba(255,255,255,0.06);
      color: inherit;
      font-weight: 900;
      transition: 0.25s ease;
      font-size: 0.95rem;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    body.dark-theme .tab-btn {
      border: 1px solid rgba(255,255,255,0.10);
      background: rgba(255,255,255,0.05);
    }

    .tab-btn:hover {
      border-color: #4facfe;
      box-shadow: 0 0 16px rgba(79, 172, 254, 0.16);
      transform: translateY(-2px);
    }

    .tab-btn.active {
      border-color: #4facfe;
      background: rgba(79, 172, 254, 0.10);
      box-shadow: 0 0 18px rgba(79, 172, 254, 0.22);
    }

    /* ---------------- MAIN CONTENT ---------------- */
    .content-wrap {
      max-width: 1200px;
      margin: 24px auto 80px;
      padding: 0 20px;
      display: grid;
      gap: 20px;
    }

    /* ---------------- CARDS ---------------- */
    .card {
      backdrop-filter: blur(15px);
      padding: 30px;
      border-radius: 30px;
      opacity: 0;
      transform: translateY(40px);
      transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);

      background: rgba(255, 255, 255, 0.8);
      border: 1px solid rgba(79, 172, 254, 0.45);
      box-shadow:
        0 0 18px rgba(79, 172, 254, 0.18),
        0 20px 25px -5px rgba(0, 0, 0, 0.1),
        0 10px 10px -5px rgba(0, 0, 0, 0.04);
    }

    body.dark-theme .card {
      background: rgba(30, 41, 59, 0.7);
      border: 1px solid rgba(255,255,255,0.08);
      box-shadow:
        0 0 14px rgba(79, 172, 254, 0.10),
        0 20px 25px -5px rgba(0, 0, 0, 0.55);
    }

    .card.active {
      opacity: 1;
      transform: translateY(0);
    }

    /* ---------------- SLIDER STACK ---------------- */
    .slider-stack { margin-top: 8px; }

    .slider-top {
      display: flex;
      justify-content: center;
      margin-bottom: 10px;
    }

    .slider-badge {
      padding: 7px 14px;
      border-radius: 999px;
      font-weight: 900;
      font-size: 0.95rem;
      border: 1px solid rgba(79, 172, 254, 0.28);
      background: rgba(79, 172, 254, 0.10);
      box-shadow: 0 0 14px rgba(79, 172, 254, 0.12);
    }

    body.dark-theme .slider-badge {
      border: 1px solid rgba(255,255,255,0.10);
      background: rgba(255,255,255,0.05);
      box-shadow: none;
    }

    .slider-scale {
      margin-top: 8px;
      display: flex;
      justify-content: space-between;
      font-weight: 800;
      opacity: 0.75;
      font-size: 0.9rem;
    }

    /* ---------------- PREMIUM SLIDER ---------------- */
    .premium-slider {
      -webkit-appearance: none;
      appearance: none;
      width: 100%;
      height: 14px;
      border-radius: 999px;
      outline: none;
      cursor: pointer;
      background: rgba(79, 172, 254, 0.18);
      border: 1px solid rgba(79, 172, 254, 0.22);
    }

    body.dark-theme .premium-slider {
      background: rgba(255,255,255,0.06);
      border: 1px solid rgba(255,255,255,0.10);
    }

    .premium-slider::-webkit-slider-thumb {
      -webkit-appearance: none;
      appearance: none;
      width: 26px;
      height: 26px;
      border-radius: 50%;
      background: #ffffff;
      border: 3px solid rgba(79, 172, 254, 0.95);
      box-shadow: 0 0 20px rgba(79, 172, 254, 0.28);
      margin-top: -6px;
      transition: 0.25s ease;
    }

    body.dark-theme .premium-slider::-webkit-slider-thumb {
      background: #0b0f1a;
      border: 3px solid rgba(79, 172, 254, 0.65);
      box-shadow: 0 0 14px rgba(79, 172, 254, 0.14);
    }

    /* ---------------- FORM ---------------- */
    label {
      font-weight: 800;
      display: block;
      margin: 12px 0 6px;
      opacity: 0.9;
    }

    input[type="number"] {
      width: 100%;
      padding: 14px 16px;
      border-radius: 18px;
      outline: none;
      font-family: inherit;
      font-size: 1rem;
      border: 1px solid rgba(255,255,255,0.15);
      background: rgba(255,255,255,0.05);
      color: #0f172a;
    }

    body.dark-theme input[type="number"] {
      background: rgba(255,255,255,0.06);
      color: #f1f5f9;
      border: 1px solid rgba(255,255,255,0.1);
    }

    .row {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 14px;
    }

    @media (max-width: 900px) {
      .row { grid-template-columns: 1fr; }
    }

    /* ---------------- CTA ---------------- */
    .cta-btn {
      width: 100%;
      margin-top: 16px;
      background: linear-gradient(to right, #4facfe, #00f2fe);
      color: white;
      padding: 16px 20px;
      border-radius: 18px;
      font-weight: 900;
      border: none;
      cursor: pointer;
      box-shadow: 0 10px 18px rgba(79, 172, 254, 0.22);
      transition: 0.25s ease;
      font-size: 1rem;
    }

    body.dark-theme .cta-btn {
      box-shadow: 0 8px 14px rgba(79, 172, 254, 0.14);
      background: linear-gradient(to right, rgba(79, 172, 254, 0.75), rgba(0, 242, 254, 0.70));
    }

    .cta-btn:hover {
      transform: scale(1.03);
      box-shadow: 0 14px 24px rgba(79, 172, 254, 0.35);
    }

    /* ---------------- HEALTH SCORE ---------------- */
    .score-number {
      font-size: 3rem;
      font-weight: 900;
      letter-spacing: -2px;
      background: linear-gradient(to right, #4facfe, #00f2fe);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      margin-top: 10px;
    }

    .score-bar {
      width: 100%;
      height: 14px;
      border-radius: 999px;
      background: rgba(79, 172, 254, 0.15);
      overflow: hidden;
      margin: 12px 0 8px;
    }

    body.dark-theme .score-bar {
      background: rgba(255,255,255,0.06);
    }

    .score-fill {
      height: 100%;
      width: 0%;
      border-radius: 999px;
      background: linear-gradient(to right, rgba(79, 172, 254, 0.85), rgba(0, 242, 254, 0.85));
      transition: width 0.4s ease;
    }

    /* ---------------- WEEKLY GRAPHS ---------------- */
    .graph-wrap {
      margin-top: 16px;
      display: grid;
      grid-template-columns: repeat(7, 1fr);
      gap: 10px;
      align-items: end;
      height: 220px;
      padding: 18px;
      border-radius: 26px;
      border: 1px solid rgba(79, 172, 254, 0.25);
      background: rgba(255,255,255,0.06);
      overflow: hidden;
    }

    body.dark-theme .graph-wrap {
      background: rgba(255,255,255,0.04);
      border: 1px solid rgba(255,255,255,0.10);
    }

    .bar {
      height: 40%;
      border-radius: 18px;
      background: linear-gradient(to top, rgba(79, 172, 254, 0.90), rgba(0, 242, 254, 0.90));
      box-shadow: 0 0 14px rgba(79, 172, 254, 0.18);
      transition: 0.25s ease;
      display: flex;
      align-items: flex-end;
      justify-content: center;
      padding-bottom: 8px;
      font-weight: 900;
      font-size: 0.85rem;
      color: white;
      min-width: 0;
    }

    .day-labels {
      margin-top: 10px;
      display: grid;
      grid-template-columns: repeat(7, 1fr);
      gap: 10px;
      text-align: center;
      opacity: 0.75;
      font-weight: 800;
      font-size: 0.9rem;
      min-width: 0;
    }

    /* ---------------- NUTRITION ---------------- */
    .pill-item {
      padding: 16px 18px;
      border-radius: 22px;
      margin-bottom: 14px;
      border: 1px solid rgba(255,255,255,0.12);
      background: rgba(255,255,255,0.06);
      transition: 0.25s ease;
      font-weight: 700;
    }

    @keyframes revealUp {
      to { opacity: 1; transform: translateY(0); }
    }
  </style>
</head>

<body>

  <div class="layout">

    <!-- SIDEBAR -->
    <aside class="menu-panel collapsed" id="menuPanel">
      <div class="menu-top">
        <button class="sidebar-toggle" id="sidebarToggle" onclick="toggleSidebar()">‚ò∞</button>
      </div>

      <div class="menu-links">
        <a class="menu-link" href="index.html">
          <span class="menu-ic">
            <!-- Home icon -->
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" d="M3 10.5L12 3l9 7.5V21a1.5 1.5 0 01-1.5 1.5H4.5A1.5 1.5 0 013 21V10.5z"/>
              <path stroke-linecap="round" stroke-linejoin="round" d="M9 22V12h6v10"/>
            </svg>
          </span>
          <span class="menu-text">Home</span>
        </a>

        <a class="menu-link" href="health.html">
          <span class="menu-ic">
            <!-- Heart pulse -->
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" d="M12 21s-7-4.4-9.5-9C.5 7.8 3.5 4 7.5 4c2.2 0 3.7 1.2 4.5 2.4C12.8 5.2 14.3 4 16.5 4c4 0 7 3.8 5 8-2.5 4.6-9.5 9-9.5 9z"/>
              <path stroke-linecap="round" stroke-linejoin="round" d="M3.5 12h4l2-3 3 6 2-3h6"/>
            </svg>
          </span>
          <span class="menu-text">Health</span>
        </a>

        <a class="menu-link" href="exercises.html">
          <span class="menu-ic">
            <!-- Dumbbell -->
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" d="M6 9v6M18 9v6M9 10v4M15 10v4M4 10v4M20 10v4M9 12h6"/>
            </svg>
          </span>
          <span class="menu-text">Exercises</span>
        </a>

        <a class="menu-link" href="dashboard.html">
          <span class="menu-ic">
            <!-- Bar chart -->
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" d="M4 19V5M4 19h16M8 16v-5M12 16V8M16 16v-3"/>
            </svg>
          </span>
          <span class="menu-text">Dashboard</span>
        </a>

        <a class="menu-link" href="journal.html">
          <span class="menu-ic">
            <!-- Notebook -->
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" d="M8 4h10a2 2 0 012 2v14a2 2 0 01-2 2H8a2 2 0 01-2-2V6a2 2 0 012-2z"/>
              <path stroke-linecap="round" stroke-linejoin="round" d="M6 8h2M6 12h2M6 16h2"/>
            </svg>
          </span>
          <span class="menu-text">Journal</span>
        </a>
      </div>
    </aside>

    <!-- MAIN -->
    <div class="main-area">

      <!-- NAV -->
      <nav>
        <div class="logo" onclick="window.location.href='index.html'">CARE.IO</div>
        <button class="theme-toggle" onclick="toggleTheme()">üåô Switch Theme</button>
      </nav>

      <!-- HERO -->
      <section class="page-hero">
        <h1>Health Overview ü©∫</h1>
        <p>Enter your daily health values. We‚Äôll generate a score + weekly graphs.</p>
      </section>

      <!-- SUB NAV -->
      <div class="subnav-wrap">
        <div class="subnav">
          <button class="tab-btn active" onclick="showTab('overview', this)">‚ú® Overview</button>
          <button class="tab-btn" onclick="showTab('sleep', this)">üò¥ Sleep</button>
          <button class="tab-btn" onclick="showTab('activity', this)">üèÉ Activity</button>
          <button class="tab-btn" onclick="showTab('screen', this)">üì± Screen Time</button>
          <button class="tab-btn" onclick="showTab('nutrition', this)">ü•ó Nutrition</button>
        </div>
      </div>

      <!-- CONTENT -->
      <section class="content-wrap">

        <!-- OVERVIEW -->
        <div class="card tab-card active" id="overview">
          <h2>Enter Today‚Äôs Health Data</h2>

          <div class="row">
            <div>
              <label>Sleep (hours)</label>
              <input type="number" id="sleepInput" placeholder="example: 7.5" step="0.1" min="0" max="24" />
            </div>

            <div>
              <label>Steps</label>
              <input type="number" id="stepsInput" placeholder="example: 6000" min="0" />
            </div>
          </div>

          <div class="row">
            <div>
              <label>Stress (1‚Äì10)</label>

              <div class="slider-stack">
                <div class="slider-top">
                  <span class="slider-badge" id="stressVal">5</span>
                </div>

                <input type="range" class="premium-slider"
                       id="stressInput" min="1" max="10" value="5"
                       oninput="updateSliderValue('stressInput','stressVal')" />

                <div class="slider-scale">
                  <span>1</span><span>10</span>
                </div>
              </div>

              <p class="muted">1 = chill üòå, 10 = overload üòµ</p>
            </div>

            <div>
              <label>Mood (1‚Äì5)</label>

              <div class="slider-stack">
                <div class="slider-top">
                  <span class="slider-badge" id="moodVal">3</span>
                </div>

                <input type="range" class="premium-slider"
                       id="moodInput" min="1" max="5" value="3"
                       oninput="updateSliderValue('moodInput','moodVal')" />

                <div class="slider-scale">
                  <span>1</span><span>5</span>
                </div>
              </div>

              <p class="muted">1 = low üòî, 5 = amazing üòÑ</p>
            </div>
          </div>

          <div class="row">
            <div>
              <label>Water Intake (glasses)</label>
              <input type="number" id="waterInput" placeholder="example: 6" min="0" max="20" />
            </div>

            <div>
              <label>Screen Time (hours)</label>
              <input type="number" id="screenInput" placeholder="example: 4" step="0.1" min="0" max="24" />
            </div>
          </div>

          <button class="cta-btn" onclick="saveHealthData()">Save Today</button>
          <p class="muted" id="savedMsg">Saved locally in your browser (LocalStorage).</p>

          <div style="margin-top: 18px;">
            <h2 style="margin-bottom: 6px;">Today‚Äôs Health Score</h2>
            <div class="score-number" id="scoreNumber">‚Äî</div>

            <div class="score-bar">
              <div class="score-fill" id="scoreFill"></div>
            </div>

            <p class="muted" id="scoreText">Enter today‚Äôs values to generate your score.</p>
          </div>
        </div>

        <!-- WEEKLY SCORE -->
        <div class="card tab-card" id="weeklyScoreCard">
          <h2>Weekly Health Score üìà</h2>
          <p class="muted">Last 7 days score trend.</p>

          <div class="graph-wrap" id="scoreBars"></div>
          <div class="day-labels" id="scoreLabels"></div>

          <p class="muted" id="scoreSummary" style="margin-top: 12px;"></p>
        </div>

        <!-- SLEEP -->
        <div class="card tab-card" id="sleep" style="display:none;">
          <h2>Weekly Sleep Graph üò¥</h2>
          <p class="muted">Shows sleep hours for last 7 days.</p>

          <div class="graph-wrap" id="sleepBars"></div>
          <div class="day-labels" id="sleepLabels"></div>

          <p class="muted" id="sleepSummary" style="margin-top: 12px;"></p>
        </div>

        <!-- ACTIVITY -->
        <div class="card tab-card" id="activity" style="display:none;">
          <h2>Weekly Activity Graph üèÉ</h2>
          <p class="muted">Shows steps for last 7 days.</p>

          <div class="graph-wrap" id="stepsBars"></div>
          <div class="day-labels" id="stepsLabels"></div>

          <p class="muted" id="stepsSummary" style="margin-top: 12px;"></p>
        </div>

        <!-- SCREEN -->
        <div class="card tab-card" id="screen" style="display:none;">
          <h2>Weekly Screen Time üì±</h2>
          <p class="muted">Shows screen time hours for last 7 days.</p>

          <div class="graph-wrap" id="screenBars"></div>
          <div class="day-labels" id="screenLabels"></div>

          <p class="muted" id="screenSummary" style="margin-top: 12px;"></p>
        </div>

        <!-- NUTRITION -->
        <div class="card tab-card" id="nutrition" style="display:none;">
          <h2>Nutrition Suggestions ü•ó</h2>
          <p class="muted">Based on your water + screen time.</p>

          <div id="nutritionSuggestions"></div>

          <p class="muted" style="margin-top: 12px;">
            (This is not medical advice ‚Äî just helpful reminders üíô)
          </p>
        </div>

      </section>
    </div>
  </div>

  <script>
    // ---------- THEME ----------
    function toggleTheme() {
      document.body.classList.toggle("dark-theme");

      const isDark = document.body.classList.contains("dark-theme");
      document.querySelector(".theme-toggle").innerHTML = isDark
        ? "‚òÄÔ∏è Light Mode"
        : "üåô Switch Theme";

      localStorage.setItem("theme", isDark ? "dark" : "light");
    }

    (function loadTheme() {
      const saved = localStorage.getItem("theme");
      if (saved === "dark") {
        document.body.classList.add("dark-theme");
        document.querySelector(".theme-toggle").innerHTML = "‚òÄÔ∏è Light Mode";
      }
    })();

    // ---------- SIDEBAR TOGGLE ----------
    function toggleSidebar() {
      const panel = document.getElementById("menuPanel");
      const btn = document.getElementById("sidebarToggle");

      panel.classList.toggle("collapsed");

      if (panel.classList.contains("collapsed")) {
        btn.innerHTML = "‚ò∞";
      } else {
        btn.innerHTML = "‚úï";
      }
    }

    // ---------- SLIDER VALUE ----------
    function updateSliderValue(inputId, valueId) {
      document.getElementById(valueId).innerText =
        document.getElementById(inputId).value;
    }

    // ---------- ACTIVE MENU LINK ----------
    (function setActiveMenuLink() {
      const current = window.location.pathname.split("/").pop() || "index.html";
      const links = document.querySelectorAll(".menu-link");
      links.forEach(link => {
        const href = link.getAttribute("href");
        if (href === current) link.classList.add("active");
      });
    })();

    // ---------- CARD ANIMATION ----------
    const observer = new IntersectionObserver((entries) => {
      entries.forEach((entry, index) => {
        if (entry.isIntersecting) {
          setTimeout(() => entry.target.classList.add("active"), index * 120);
        }
      });
    }, { threshold: 0.1 });

    document.querySelectorAll(".card").forEach(card => observer.observe(card));

    // ---------- TAB SWITCH ----------
    function showTab(tabId, btn) {
      const cards = document.querySelectorAll(".tab-card");
      cards.forEach(c => {
        c.style.display = "none";
        c.classList.remove("active");
      });

      const selected = document.getElementById(tabId);
      selected.style.display = "block";
      setTimeout(() => selected.classList.add("active"), 50);

      const weekly = document.getElementById("weeklyScoreCard");
      if (tabId === "overview") {
        weekly.style.display = "block";
        setTimeout(() => weekly.classList.add("active"), 80);
      } else {
        weekly.style.display = "none";
        weekly.classList.remove("active");
      }

      const buttons = document.querySelectorAll(".tab-btn");
      buttons.forEach(b => b.classList.remove("active"));
      btn.classList.add("active");

      if (tabId === "sleep") renderSleepGraph();
      if (tabId === "activity") renderStepsGraph();
      if (tabId === "screen") renderScreenGraph();
      if (tabId === "nutrition") renderNutrition();
    }

    // ---------- STORAGE ----------
    function getHealthData() {
      const data = localStorage.getItem("healthDaily");
      return data ? JSON.parse(data) : [];
    }

    function setHealthData(arr) {
      localStorage.setItem("healthDaily", JSON.stringify(arr));
    }

    function todayKey() {
      return new Date().toISOString().slice(0, 10);
    }

    // ---------- SCORE CALC ----------
    function calcHealthScore({ sleep, steps, stress, mood, water, screen }) {
      let sleepPoints = 0;
      if (sleep >= 8) sleepPoints = 25;
      else if (sleep >= 7) sleepPoints = 22;
      else if (sleep >= 6) sleepPoints = 17;
      else if (sleep >= 5) sleepPoints = 12;
      else sleepPoints = 6;

      let stepPoints = 0;
      if (steps >= 9000) stepPoints = 20;
      else if (steps >= 7000) stepPoints = 16;
      else if (steps >= 5000) stepPoints = 12;
      else if (steps >= 2500) stepPoints = 8;
      else stepPoints = 4;

      let waterPoints = 0;
      if (water >= 8) waterPoints = 10;
      else if (water >= 6) waterPoints = 8;
      else if (water >= 4) waterPoints = 6;
      else if (water >= 2) waterPoints = 4;
      else waterPoints = 2;

      const stressPoints = Math.round(((11 - stress) / 10) * 20);
      const moodPoints = Math.round((mood / 5) * 15);

      let screenPoints = 0;
      if (screen <= 2) screenPoints = 10;
      else if (screen <= 4) screenPoints = 8;
      else if (screen <= 6) screenPoints = 6;
      else if (screen <= 8) screenPoints = 4;
      else screenPoints = 2;

      const score =
        sleepPoints +
        stepPoints +
        waterPoints +
        stressPoints +
        moodPoints +
        screenPoints;

      return Math.max(0, Math.min(100, score));
    }

    function scoreText(score) {
      if (score >= 85) return "You‚Äôre thriving üî• Keep it going!";
      if (score >= 70) return "You‚Äôre doing good. Just watch sleep + screen time.";
      if (score >= 55) return "You‚Äôre okay ‚Äî but your routine needs support.";
      return "You need recovery. Rest + hydrate + reset üíô";
    }

    // ---------- SAVE TODAY ----------
    function saveHealthData() {
      const sleep = parseFloat(document.getElementById("sleepInput").value);
      const steps = parseInt(document.getElementById("stepsInput").value);
      const stress = parseInt(document.getElementById("stressInput").value);
      const mood = parseInt(document.getElementById("moodInput").value);
      const water = parseInt(document.getElementById("waterInput").value);
      const screen = parseFloat(document.getElementById("screenInput").value);

      if (isNaN(sleep) || sleep < 0 || sleep > 24) return alert("Enter valid sleep hours (0 - 24).");
      if (isNaN(steps) || steps < 0) return alert("Enter valid steps (0 or more).");
      if (isNaN(water) || water < 0 || water > 20) return alert("Enter valid water glasses (0 - 20).");
      if (isNaN(screen) || screen < 0 || screen > 24) return alert("Enter valid screen time (0 - 24).");

      const key = todayKey();
      let data = getHealthData();
      data = data.filter(d => d.date !== key);

      const score = calcHealthScore({ sleep, steps, stress, mood, water, screen });

      data.unshift({ date: key, sleep, steps, stress, mood, water, screen, score });
      data = data.slice(0, 60);
      setHealthData(data);

      document.getElementById("savedMsg").innerText = "Saved! ‚úÖ Your score is updated.";

      renderTodayScore();
      renderScoreGraph();
      renderSleepGraph();
      renderStepsGraph();
      renderScreenGraph();
      renderNutrition();
    }

    // ---------- LAST 7 DAYS ----------
    function getLast7DaysData() {
      const data = getHealthData();
      const map = new Map(data.map(d => [d.date, d]));

      const dummy = [
        { sleep: 6.5, steps: 5200, stress: 6, mood: 3, water: 5, screen: 6.2, score: 62 },
        { sleep: 7.2, steps: 7400, stress: 4, mood: 4, water: 7, screen: 4.8, score: 78 },
        { sleep: 5.8, steps: 3000, stress: 7, mood: 2, water: 3, screen: 7.5, score: 54 },
        { sleep: 8.0, steps: 9100, stress: 3, mood: 5, water: 8, screen: 3.2, score: 90 },
        { sleep: 6.9, steps: 6600, stress: 5, mood: 3, water: 6, screen: 5.4, score: 70 },
        { sleep: 7.6, steps: 8200, stress: 4, mood: 4, water: 7, screen: 4.1, score: 82 },
        { sleep: 6.2, steps: 4800, stress: 6, mood: 3, water: 4, screen: 6.8, score: 60 }
      ];

      const days = [];
      for (let i = 6; i >= 0; i--) {
        const dt = new Date();
        dt.setDate(dt.getDate() - i);
        const key = dt.toISOString().slice(0, 10);

        if (map.has(key)) {
          days.push({ date: key, ...map.get(key) });
        } else {
          const fallback = dummy[6 - i];
          days.push({ date: key, ...fallback });
        }
      }
      return days;
    }

    // ---------- TODAY SCORE ----------
    function renderTodayScore() {
      const data = getHealthData();
      const today = todayKey();
      const todayEntry = data.find(d => d.date === today);

      const scoreNum = document.getElementById("scoreNumber");
      const fill = document.getElementById("scoreFill");
      const text = document.getElementById("scoreText");

      if (!todayEntry) {
        scoreNum.innerText = "‚Äî";
        fill.style.width = "0%";
        text.innerText = "Enter today‚Äôs values to generate your score.";
        return;
      }

      scoreNum.innerText = todayEntry.score;
      fill.style.width = todayEntry.score + "%";
      text.innerText = scoreText(todayEntry.score);
    }

    // ---------- GRAPH HELPERS ----------
    function renderBarGraph(days, containerId, labelId, valueKey, maxValue, formatFn, tooltipFn) {
      const barsWrap = document.getElementById(containerId);
      const labelsWrap = document.getElementById(labelId);

      barsWrap.innerHTML = "";
      labelsWrap.innerHTML = "";

      days.forEach(d => {
        const bar = document.createElement("div");
        bar.className = "bar";

        const val = d[valueKey] || 0;
        const heightPercent = Math.round((val / maxValue) * 100);
        bar.style.height = Math.max(heightPercent, 8) + "%";

        bar.innerText = formatFn(val);
        bar.title = tooltipFn(d);

        barsWrap.appendChild(bar);

        const lbl = document.createElement("div");
        const dayName = new Date(d.date).toLocaleDateString("en-US", { weekday: "short" });
        lbl.innerText = dayName;
        labelsWrap.appendChild(lbl);
      });
    }

    function renderScoreGraph() {
      const days = getLast7DaysData();

      renderBarGraph(days, "scoreBars", "scoreLabels", "score", 100,
        (v) => v ? v : "0",
        (d) => `${d.date} ‚Ä¢ Score: ${d.score}`
      );

      const valid = days.filter(d => d.score > 0);
      const avg = valid.length ? (valid.reduce((a,b) => a + b.score, 0) / valid.length) : 0;

      document.getElementById("scoreSummary").innerText = valid.length
        ? `Weekly average score: ${avg.toFixed(0)} / 100.`
        : "No score data yet. Save your daily values first.";
    }

    function renderSleepGraph() {
      const days = getLast7DaysData();

      renderBarGraph(days, "sleepBars", "sleepLabels", "sleep", 10,
        (v) => v ? v.toFixed(1) : "0",
        (d) => `${d.date} ‚Ä¢ Sleep: ${d.sleep} hrs`
      );

      const valid = days.filter(d => d.sleep > 0);
      const avg = valid.length ? (valid.reduce((a,b) => a + b.sleep, 0) / valid.length) : 0;

      document.getElementById("sleepSummary").innerText = valid.length
        ? `Average sleep this week: ${avg.toFixed(1)} hrs. ${avg >= 7 ? "Nice üî•" : "Try pushing closer to 7 hrs üíô"}`
        : "No sleep data yet. Add sleep from Overview tab.";
    }

    function renderStepsGraph() {
      const days = getLast7DaysData();
      const maxSteps = Math.max(...days.map(d => d.steps), 1);

      renderBarGraph(days, "stepsBars", "stepsLabels", "steps", maxSteps,
        (v) => v ? (Math.round(v / 1000) + "k") : "0",
        (d) => `${d.date} ‚Ä¢ Steps: ${d.steps}`
      );

      const valid = days.filter(d => d.steps > 0);
      const avg = valid.length ? (valid.reduce((a,b) => a + b.steps, 0) / valid.length) : 0;

      document.getElementById("stepsSummary").innerText = valid.length
        ? `Average steps this week: ${Math.round(avg)} steps/day.`
        : "No steps data yet. Add steps from Overview tab.";
    }

    function renderScreenGraph() {
      const days = getLast7DaysData();
      const maxScreen = Math.max(...days.map(d => d.screen), 1);

      renderBarGraph(days, "screenBars", "screenLabels", "screen", maxScreen,
        (v) => v ? v.toFixed(1) : "0",
        (d) => `${d.date} ‚Ä¢ Screen Time: ${d.screen} hrs`
      );

      const valid = days.filter(d => d.screen > 0);
      const avg = valid.length ? (valid.reduce((a,b) => a + b.screen, 0) / valid.length) : 0;

      document.getElementById("screenSummary").innerText = valid.length
        ? `Average screen time this week: ${avg.toFixed(1)} hrs/day.`
        : "No screen time data yet. Add screen time from Overview tab.";
    }

    function renderNutrition() {
      const data = getHealthData();
      const today = todayKey();
      const todayEntry = data.find(d => d.date === today);

      const box = document.getElementById("nutritionSuggestions");
      box.innerHTML = "";

      if (!todayEntry) {
        box.innerHTML = `<p class="muted">Enter today‚Äôs water + screen time in Overview to get suggestions.</p>`;
        return;
      }

      const water = todayEntry.water;
      const suggestions = [];

      if (water <= 2) suggestions.push("üö® Hydration is very low. Aim for 6‚Äì8 glasses today.");
      else if (water <= 4) suggestions.push("üíß You‚Äôre low on water. Add 2‚Äì3 more glasses.");
      else if (water <= 6) suggestions.push("‚úÖ Decent hydration. Try hitting 7‚Äì8 glasses.");
      else suggestions.push("üî• Great hydration! Your body loves you for this.");

      suggestions.push("ü•ó Add one fruit today (banana/apple/orange).");
      suggestions.push("üç≥ Add protein in one meal (eggs/paneer/chicken/dal).");

      suggestions.forEach(s => {
        const div = document.createElement("div");
        div.className = "pill-item";
        div.innerText = s;
        box.appendChild(div);
      });
    }

    // ---------- INIT ----------
    (function init() {
      updateSliderValue("stressInput", "stressVal");
      updateSliderValue("moodInput", "moodVal");

      renderTodayScore();
      renderScoreGraph();
      renderSleepGraph();
      renderStepsGraph();
      renderScreenGraph();
      renderNutrition();
    })();
  </script>

</body>
</html>
